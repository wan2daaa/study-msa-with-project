# Layered Architecture - 계층화 아키텍처

- 여러개의 계층으로 나누어 각 계층에서 하는 일을 한정시켜 계층별로 독립적으로 개발, 배포, 확장이 가능 

- Presentation / Application(Business Logic) / Domain / Infra Layer 등으로 이루어짐
  - 각 Layer 입장에서는 하위 게층으로 의존성 존재 (아래방향) 
    - Presentation -> App -> Model(doamin, infra)

- 각 계층 내에서는 코드수정과 유지보수 등이 비교적 쉽다
- 계층간 접근이 자유롭다
  - 그러나 여기서 완전히 다른 계층의 메서드 call 가능성 존재
  - 하위 계층으로 로직의 의존성은 존재하나, 접근은 상위 계층으로도 가능한 상황들이 발생


> 구현에 대한 로직 의존성은 단방향, 접근은 양방향

- 1DB로부터 오는 파생되는 설계상의 역 디펜던시 발생 
  - e.x. BIz Logic이 포함된 Repository Interface 정의를 하고, 
    - e.x. 송금 메소드 (sendMoney)
  - 정의된 Repository Interface를 DAO 에서 구현 
    - e.x. 송금(sendMoneyDAO) (고객 조회, 계좌 잔액 조회, 잔액 update)
    - **비즈니스 로직이 DAO에 녹아져버림**
- Presistence Layer(1 DB Endpoint)가 App Layer에 의존할 수 있다. (역방향 의존성 발생)
- 문제가 생겨서 수정할려고 했을 때, 다른 어플리케이션에 영향을 미쳐 여러 곳을 수정 하게 될 수 있다.

---
- 1DB로 인한 각 계층의 역할, 목적과 계층간 의존성 구분이 희미해짐
  - -> 그러나, 각 계층 내에서는 비교적 유연한 대처 가능 
- 그러나 처음 개발 이후, 큰 비즈니스 로직의 변화가 존재하지 않는다면, 오히려 안정적

- 비교적 자유로운 접근 방향성으로 인한 빠른 개발, 코드의 재사용 그리고 편한 테스팅 가능 
  - -> 1DB의 장점으로 빠른 비즈니스 로직 개발 가능
    
> **모놀리스 구조와 계층별로 구분된 일반적인 프로젝트 조직구조에 최적화**
> e.x. 은행, 증권사 ...

