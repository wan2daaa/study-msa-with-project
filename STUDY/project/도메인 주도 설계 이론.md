# 도메인 주도 설계

하나의 소프트웨어 개발 방법론으로, **복잡한 도메인을 이해하고 해결**하는 데에 목적이 있고 이에 집중하는 방법론

- 도메인이 복잡해지면서 생기는 문제들이 아키텍처를 엉망으로 만드는 경우가 많았고, 
- 결과적으로 유지보수를 어렵게 만드는 경우가 많았다. 
- DDD는 이를 해결하기 위한 하나의 방법론(이론)

---
##### 왜 갑자기 도메인 주도 설계를 ?
- 직접적인 관계가 있는 것은 아니지만, 해당 방법론 내의 다양한 이론들이 높은 비즈니스 케파를 가질 수 있는 서비스 식별에 큰 도움을 줄 수 있다.
- Bounded Context 와 Sub-Domain 개념이 MSA의 목적과 너무 잘맞기 때문


## DDD 의 핵심 개념/원칙

- 유비쿼터스 언어
  - 흔히 말하는 공통 언어 약속
- 도메인 모델
- Bounded Context
- 하위 도메인

### 유비쿼터스 언어
- **복잡한 도메인을 이해하고 해결**하기 위한 팀(해결을 위해 모인 집단)이 공통으로 쓰기 위한 언어들의 약속

  - e.x. 복잡한 도메인을 해결하기 위해서 어떻게 해야할까요?
  - e.x. 도메인 전문가는 소프트웨어 개발을 할 수 있을까요?
  - e.x. 그렇다면, 소프트웨어 엔지니어와 도메인 전문가는 같이 일 해야 하겠네요? 소통이 중요하겠네요? 어떡하죠?
    - **개발자와 비개발자가 문제(도메인)을 해결하기 위해 사용할 언어들의 의미에 대한 약속 모음!**

### 도메인 모델
- 유비쿼터스 언어를 사용하여, 비즈니스 요구사항(문제)을 만족하기 위해서 표현하기 위해 
  - **도메인들의 핵심 개념과 규칙을 표현하는 객체들의 관계**로 구성

- 도메인과 서비스 들이 거의 유사할 것 
  - 왜냐하면 "비즈니스" 라는 것은 결국 큰 단위의 복합적인 문제
- 비즈니스를 각 동작에 따라 나누어 작은 비즈니스가 된다는 것은 
  - 결국 해결해야할 문제 영역을 여러개로 만든 것 
- 즉, 비즈니스 동작을 기준으로 나눈다는 의미는 
  - 큰 문제를 작은 문제로 분해 한다는 것
  - 비즈니스 내 도메인들의 핵심 개념과 규칙, 문제를 해결하기 위한 것이 바로 도메인 모델


> 참고
> 
> 비즈니스 : 비즈니스 동작(해결해야 할 문제) 들의 모음
> 
> 도메인 : 그리고 이 문제들을 핵심 개념과 규칙(객체 형식)으로 표현하는 것
> 
> 도메인 모델 : 이런 객체들 간의 관계까지 표현한 것

---
하지만, 그저 도메인을 식별하기만 해서는 도메인 모델을 그리근 의미와 목적이 부족할 수있다. 
- **목적 - 도메인 드르이 핵심 개념과 규칙을 표현하여 적절하게 분리할 수 있도록 돕는 것 ! 이해를 하기 위해**

- 도메인 간의 핵심 개념과 규칙을 이해하는데 도움을 주는 개념
  - **엔티티 (Entity)** : 하나의 객체를 의미, 하나의 테이블 모델로서 존재할 수 있는 데이터들의 묶음
  - **어그리거트 (Aggregate)** : 데이터 변경의 단위로 다루는 연관된 **엔티티들의 묶음 (관련된 객체들의 집합)** 
    - **모든 데이터의 변경 단위는 어그리거트**
  - **어그리거트 루트 (Aggregate Root)** : 어그리거트(집합)에서 도메인의 중신을 의미하는 엔티티를 의미 


### Bounded Context
- 정의된 여러 도메인(모델, 문제영역) 들을 기준으로, 각 도메인 모델들의 관계 표현 시
  - 각 모델들은 상호 배타적인 문제를 해결해야만 한다는 DDD의 핵심 원칙 

- 각각의 도메인을 하나의 서비스로 식별했을때 -> 서로 배타적인(명확한, 다른) 문제를 가지고 있어야 함!

### 하위 도메인 
- 정의한 도메인 모델들을 Bounded-Context 원칙에 따라, 
  - 비즈니스 케파를 높일 수 있는 방식으로 분리해야 한다는 원칙

> 즉, 분명한 Bounded-Context를 가지는 어그리거트 간의 관계와 
> 
> 각 어그리거트 별로 어그리거트 루트로 분리된 어그리거트는 하위 도메인이다.

